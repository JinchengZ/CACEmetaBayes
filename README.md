# CACEmetaBayes

R code and data for the manuscript "A Bayesian Hierarchical CACE Model Accounting for Incomplete Noncompliance Data in Meta-analysis"


JAGS is required to run models. Under the master folder “CACEmetaBayes”, 

1.	the subfolder "data" contains the original .csv data file, as well as datasets created by running the “0. Data prep.R” R script;
2.	the subfolder "model" has all models for running the “1. Model selection.R” file;
3.	the subfolder “outputs” is the location where model outputs are saved, some of which are used as input data for Figure 1-Figure4; 
4.	the subfolder "simulation" includes the simulation code for each setting, files for models and folders for storing outputs.

When running the R code, please follow the order numbers named in each R program. The file “fun_coda_dic.R” is sourced by most other R scripts. 
Figure 1-Figure 4 from the manuscript are generated by running the R scripts “2. Figure1. Plot13.R”, “3. Figure2. density_post.R”, “4. Figure3. plot27CACE.R”, and “5. Figure4. MNARplot.R”, respectively. 
Values in Table 4 and Table 5 (Section 4.1 Model Selection Results) are obtained by running the R script “1. Model selection.R”. 
In the Simulation Section (Section 5.2 Simulation Results), Table 6-Table 8 are created by running the R script “save.R”. However, prior to call this file, all simulation code named in the format of “Sim*_*.R” and “select*_*.R” under the folder “simulation” should be run to collect simulation results in each iteration. 
